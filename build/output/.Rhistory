###########################################################
##                   Chamando as bibliotecas             ##
###########################################################
library(PNADcIBGE)
library(conflicted)
library(tidyverse)
library(magrittr)
library(haven)
library(hrbrthemes)
library(zoo)
user <- Sys.info()[["user"]]
message(sprintf("Current User: %s\n"))
if (user == "rebec") {
ROOT <- "C:/Users/rebec/Desktop/Monografia/Monografia"
} else if (user == "f.cavalcanti") {
ROOT <- "C:/Users/Francisco/Dropbox"
} else {
stop("Invalid user")
}
home_dir <- file.path(ROOT, "analysis")
in_dir <- file.path(ROOT, "build", "output")
out_dir <- file.path(ROOT, "analysis", "output")
tmp_dir <- file.path(ROOT, "analysis", "tmp")
code_dir <- file.path(ROOT, "analysis", "code")
# Importacao dos dados e leitura da PNADc Anual
lista_visita <- c("2016_visita1",
"2016_visita5",
"2017_visita1",
"2017_visita5",
"2018_visita1",
"2018_visita5",
"2019_visita1",
"2019_visita5")
basededados <- data.frame(UF = character(), Ano = character())
baseproporcao <- data.frame(Ano = character())
for (xx in lista_visita) {
setwd(in_dir)
db1 <- read.csv(paste0(in_dir, "/DadosVisitas", xx, ".csv"))
basededados <- rbind(basededados, db1)
}
for (xx in lista_visita) {
setwd(in_dir)
db2 <- read.csv(paste0(in_dir, "/DadosRenda", xx, ".csv"))
baseproporcao <- rbind(baseproporcao, db2)
}
teste <- baseproporcao %>%
group_by(Ano)
View(teste)
teste <- baseproporcao %>%
group_by(Ano) %>%
summarise_each(teste = mean(Ano))
teste <- baseproporcao %>%
group_by(Ano) %>%
distinct(Ano)
View(teste)
teste <- baseproporcao %>%
group_by(Ano) %>%
distinct()
View(teste)
teste <- baseproporcao %>%
group_by(Ano) %>%
distinct(variable.names(baseproporcao))
teste <- baseproporcao %>%
group_by(Ano) %>%
distinct(variable.names(8))
View(teste)
teste <- baseproporcao %>%
group_by(Ano) %>%
distinct(variable.names(1))
teste <- baseproporcao %>%
group_by(Ano) %>%
distinct(variable.names(7))
View(teste)
help("distinct")
View(teste)
teste <- baseproporcao %>%
group_by(Ano) %>%
distinct(rendapctotal, renda1rico)
View(teste)
teste <- baseproporcao %>%
group_by(Ano) %>%
distinct(rendapctotal)
View(teste)
teste <- baseproporcao %>%
aggregate(. ~ Ano, x, mean)
teste <- baseproporcao %>%
aggregate(. ~ Ano, renda1rico, mean)
teste <- baseproporcao %>%
aggregate(. ~ Ano, mean)
help("aggregate")
teste <- baseproporcao %>%
aggregate(Ano, by, FUN = mean)
teste <- aggregate(baseproporcao, by = Ano, FUN = mean)
